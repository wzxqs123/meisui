<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>考拉限时购</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta name="format-detection" content="telephone=no">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <link rel="stylesheet" type="text/css" href="css/swiper.3.1.7.min.css">
        <style type="text/css">
            html, body {
                background-color: #fff;
            }
        </style>
    </head>
    <body>
        <div class="seckill-p-wrap position-rel">
            <!-- 标题部分 -->
            <div class="headtit bg-white clearfix none">
                <h2 class="thirty-four text-center">考拉限时购</h2>
                <a href="javascript:history.go(-1)" class="left"></a>
            </div>

            <!-- 头部导航部分 -->
            <div class="seckill-p-layer">
                <!-- 样式1，时间轴样式 -->
                <div class="swiper-containers seckill-p-headone text-center">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">12:00</span>
                            <em class="thirty-two block">已开抢</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel seckill-p-slidesel">
                            <span class="block">14:00</span>
                            <em class="thirty-two block">抢购中</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">16:00</span>
                            <em class="thirty-two block">即将开始</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">18:00</span>
                            <em class="thirty-two block">即将开始</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">20:00</span>
                            <em class="thirty-two block">即将开始</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">22:00</span>
                            <em class="thirty-two block">即将开始</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                        <div class="swiper-slide seckill-p-oneslide position-rel">
                            <span class="block">00:00</span>
                            <em class="thirty-two block">即将开始</em>
                            <!-- 小三角形 -->
                            <i class="position-abs"></i>
                        </div>
                    </div>
                </div>
                <!-- 样式二，两个子项 -->
                <div class="seckill-p-headtwo thirty-two text-center text-center clearfix none">
                    <!-- 选中的span添加seckill-p-twosel -->
                    <div class="seckill-p-twosel left position-rel">
                        <span>正在抢购</span>
                        <i class="position-abs"></i>
                    </div>
                    <div class="left position-rel">
                        <span>即将开始</span>
                        <i class="position-abs"></i>
                    </div>
                </div>
            </div>
            <!-- 列表部分 -->
            <div class="seckill-p-main">
                <!-- 纵向图文列表 -->
                <ul class="seckill-p-zlist clearfix none">
                    <li class="seckill-p-zitem left">
                        <a class="block" href="">
                            <img class="seckill-p-zpic block img" src="images/demoimages/pic3.png" alt="">
                            <p class="seckill-p-ztit b-one twenty">Anna SUI安娜苏独角兽Fantasia爱情魔法旋木香水EDT50ml/75ml</p>
                            <div class="seckill-p-zact twenty-two red">满199减20</div>
                            <div class="seckill-p-zmoney clearfix">
                                <span class="thirty-two left red">¥273</span>
                                <em class="left six twenty-two">¥429</em>
                            </div>
                        </a>
                    </li>
                </ul>
                <div class="seckill-p-hcon ">
                    <div class="seckill-p-hcom twenty clearfix">
                        <span class="left">抢购中--先下单先得哦</span>
                        <em class="seckill-p-htime six right">距结束：52:21</em>
                    </div>
                    <ul class="seckill-p-hlist">
                        <li class="seckill-p-hitem">
                            <a class="block clearfix" href="">
                                <img class="seckill-p-hpic left" src="images/demoimages/pic6.png" alt="">
                                <div class="seckill-p-hrblock left position-rel">
                                    <p class="seckill-p-htit twenty-six b-one">Lindt瑞士莲经典牛奶巧克力100g*5块（牛奶2块/纯味黑2块/扁桃仁牛奶1块）</p>
                                    <!-- 限量，秒杀价 -->
                                    <div class="seckill-p-hone clearfix ">
                                        <div class="seckill-p-hxl white text-center twenty-two left">剩余时间：03:58:17</div>
                                        <div class="seckill-p-hmoney clearfix left">
                                            <span class="left six twenty-six">秒杀价</span>
                                            <em class="left thirty-six red weight-bold">¥98</em>
                                        </div>
                                    </div>
                                    <!-- 秒杀价，原价 -->
                                    <div class="seckill-p-htwo none">
                                        <div class="seckill-p-hmoney clearfix">
                                            <span class="left six twenty-six">秒杀价</span>
                                            <em class="left thirty-six red weight-bold">¥98</em>
                                        </div>
                                        <div class="seckill-p-hyj clearfix twenty-six">
                                            <span class="left six">原价</span>
                                            <em class="left six">¥198</em>
                                        </div>
                                    </div>
                                    <div class="seckill-p-hgo white text-center position-abs">马上抢</div>
                                </div>
                            </a>
                        </li>
                        <li class="seckill-p-hitem">
                            <a class="block clearfix" href="">
                                <img class="seckill-p-hpic left" src="images/demoimages/pic6.png" alt="">
                                <div class="seckill-p-hrblock left position-rel">
                                    <p class="seckill-p-htit twenty-six b-one">Lindt瑞士莲经典牛奶巧克力100g*5块（牛奶2块/纯味黑2块/扁桃仁牛奶1块）</p>
                                    <!-- 限量，秒杀价 -->
                                    <div class="seckill-p-hone clearfix ">
                                        <div class="seckill-p-hxl white text-center twenty-two left">剩余时间：03:58:17</div>
                                        <div class="seckill-p-hmoney clearfix left">
                                            <span class="left six twenty-six">秒杀价</span>
                                            <em class="left thirty-six red weight-bold">¥98</em>
                                        </div>
                                    </div>
                                    <!-- 秒杀价，原价 -->
                                    <div class="seckill-p-htwo none">
                                        <div class="seckill-p-hmoney clearfix">
                                            <span class="left six twenty-six">秒杀价</span>
                                            <em class="left thirty-six red weight-bold">¥98</em>
                                        </div>
                                        <div class="seckill-p-hyj clearfix twenty-six">
                                            <span class="left six">原价</span>
                                            <em class="left six">¥198</em>
                                        </div>
                                    </div>
                                    <div class="seckill-p-hgo white text-center position-abs">马上抢</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
        <script src="js/swiper.3.1.7.jquery.min.js" type="text/javascript"></script>
        <script src="js/index.js" type="text/javascript"></script>
        <script type="text/javascript">
            var mySwipers = new Swiper ('.swiper-containers', {
                direction: 'horizontal',
                loop: false,
                freeMode: true,
                slidesPerView: "auto"
            })
            $(".seckill-p-oneslide").click(function (e) {
                $(this).addClass("seckill-p-slidesel").siblings(".seckill-p-oneslide").removeClass("seckill-p-slidesel");
                // 此处应重新请求数据
                
            });

            $(".seckill-p-headtwo div").click(function (e) {
                $(this).addClass("seckill-p-twosel").siblings().removeClass("seckill-p-twosel");
                // 此处应重新请求数据
                
            })

            // 去除纵向图文列表最后一项的下划线
            function itemNum (items) {
                var xflistsitem = $(items).size() - 1;
                $(items).eq(xflistsitem).css({
                    "box-shadow" : "none"
                });
            }
            itemNum(".seckill-p-hitem a");

            // 从服务端获取一个距离结束的倒计时时间
            var times = 5000; // 这里先临时定个时间，单位为秒
            function timeOperate (timeEve, showTime, eqNum, wordCon) {
                var hour = parseInt(timeEve / 3600),
                    minute = parseInt(timeEve / 60 % 60),
                    second = timeEve % 60;
                $(showTime).eq(eqNum).html(wordCon + hour + ":" + minute + ":" + second);
            }
            timeOperate(times, ".seckill-p-htime", 0, "距结束：");

            // 倒计时处理函数
            function countDown (timeEve, showTime, eqNum, wordCon, endCon, deleteFun) {
                setTimeout(timeDown, 1000);
                function timeDown() {
                    if (timeEve > 0) {
                        timeEve--;
                        timeOperate(timeEve, showTime, eqNum, wordCon);
                        setTimeout(timeDown, 1000);
                    } else {
                        // clearInterval(timeDown);
                        $(showTime).eq(eqNum).html(endCon);
                        // 秒杀结束，此处应从新从服务端获取新的数据，新的倒计时且重新开始倒计时，并删除旧数据
                        // console.log(timeEve);

                        // 当时间为0时，删除该条信息
                        deleteFun(eqNum);
                    }
                }
            }
            countDown(times, ".seckill-p-htime", 0, "距结束：", "距结束：00:00:00");

            var timeArr = [4, 10]; // 从服务端获取一个距离结束的倒计时时间数组
            for (var i = 0; i < timeArr.length; i++) {
                var itemTime = timeArr[i];
                timeOperate(itemTime, ".seckill-p-hxl", i, "剩余时间：");
                countDown(itemTime, ".seckill-p-hxl", i, "剩余时间：", "剩余时间：00:00:00", deleteLi);
                // 当时间为0时，删除该条信息
                function deleteLi (liEq) {
                    $(".seckill-p-hitem").eq(liEq).addClass("none");
                }
            };
        </script>
    </body>
</html>