<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>520香信爱</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta name="format-detection" content="telephone=no">
        <link rel="stylesheet" type="text/css" href="css/activitys.css">
        <style type="text/css">
            html, body {
                background: #4b037f;
            }
            @font-face {
                font-family: 'fzltxh';
                src: url('font/fzltxh.TTF');
            }
        </style>
    </head>
    <body>
        <div class="five-t-wrap position-rel">
            <a href="" class="five-t-notice five-t-brown block text-center weight-bold">获奖公告</a>
            <div class="five-t-acttime white text-center">
                <span class="block">活动时间</span>
                <span class="block">5月18日 14:00 - 5月20日 23:59</span>
            </div>
            <div class="five-t-actcon white">
                <h2 class="five-t-acttit text-center">活动内容</h2>
                <div class="five-t-actcom clearfix">
                    <div class="five-t-actone left clearfix"><span class="text-center left">1</span>活动期间累计魅力值前5名的主播可获得爱情礼包</div>
                    <div class="five-t-acttwo left clearfix"><span class="text-center left">2</span>充值折扣优惠活动相爱进行中</div>
                </div>
            </div>
            <!-- 主播魅力top -->
            <div class="five-t-top">
                <h2 class="five-t-toptit text-center white">主播魅力值TOP</h2>
                <div class="five-t-topcon">
                    <div class="five-t-topnav text-center clearfix">
                        <span class="left">TOP</span>
                        <span class="left">主播ID</span>
                        <span class="left">昵称</span>
                        <span class="left">魅力值</span>
                    </div>
                    <div id="five-t-toplist" class="five-t-toplist">
                        <ul id="five-t-topul" class="five-t-topul white">
                            <!-- 第一名加five-t-topone类名, 奇数添加类名five-t-topodd,偶数添加类名five-t-topeven -->
                            <li class="five-t-topitem text-center clearfix">
                                <span class="left weight-bold">1</span>
                                <span class="left">5161562</span>
                                <span class="left">一只兔八哥</span>
                                <span class="left">68481321</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- 活动奖励 -->
            <div class="five-t-reward">
                <h2 class="five-t-rewardtit text-center white">活动奖励</h2>
            </div>
            <!-- 发送 -->
            <div class="five-t-messbut position-rel">
                <div class="five-t-messtop clearfix">
                    <span class="left white">对</span>
                    <input class="five-t-messid left text-center white" type="number" placeholder="用户ID" />
                    <span class="left white">说</span>
                </div>
                <div class="five-t-messword">
                    <input class="block white" type="text" placeholder="爱的表达，限40个字" />
                </div>
                <!-- 发送按钮 -->
                <span class="five-t-messsend position-abs text-center weight-bold five-t-brown">发送</span>
            </div>
            <!-- 留言展示块 -->
            <div class="five-t-messcon">
                <h2 class="five-t-messtit text-center white">520 说出爱</h2>
                <div id="five-t-messlist" class="five-t-messlist">
                    <ul id="five-t-messul" class="five-t-messul">
                        <li class="five-t-messitem position-rel">
                            <div class="five-t-messname clearfix weight-bold">
                                <span class="five-t-myname left">伍大浪~伍大浪~</span>
                                <span class="five-t-myid left">(3215181)</span>
                                <strong class="left white">对</strong>
                                <em class="five-t-oname left">伍大浪~伍大浪~</em>
                                <em class="five-t-oid left">(3215181)</em>
                                <strong class="left white">说：</strong>
                            </div>
                            <p class="white">一年多来，我最爱的还是一年多来，我最爱的一年多来，我最爱的还是一年多来，我最爱的</p>
                            <!-- 点赞 -->
                            <!-- 未赞使用类名five-t-nolove,已赞使用类名five-t-love -->
                            <div class="five-t-zan five-t-nolove clearfix position-abs">
                                <i class="left"></i>
                                <span class="left white">256</span>
                            </div>
                        </li>
                    </ul>
                </div>
                <ol class="five-t-explain">
                    <li class="white">规则说明：</li>
                    <li class="clearfix"><span class="left text-center">1</span><em class="white left">每位用户限发1条语录，请珍惜这次机会；</em></li>
                    <li class="clearfix"><span class="left text-center">2</span><em class="white left">限发表达爱的语录，恶意诋毁、谩骂、侮辱等言论将被封号；</em></li>
                    <li class="clearfix"><span class="left text-center">3</span><em class="white left">恶意注册大量小号刷赞，将被封号：</em></li>
                    <li class="clearfix"><span class="left text-center">4</span><em class="white left">获祝福前10名的眷侣双方将各获得13140钻石天香祝福。</em></li>
                </ol>
            </div>
            <!-- 注 -->
            <div class="five-t-notes clearfix white">
                <span class="left">注：</span>
                <em class="left">爱要说大声出来，祝天香有情人终成眷属，所有奖励将于活动结束后3个工作日内统一发放，更多详询客服<br />微信：txzhibo666   QQ：2732237928</em>
            </div>
            <footer class="five-t-foot text-center twenty-six position-abs bg-b-one">本活动最终解释权归天香娱乐所有</footer>
            <!-- 弹窗提示 -->
            <div class="five-t-fadealert text-center white position-fix none"></div>
        </div>
        <script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
        <script src="js/index.js" type="text/javascript"></script>
        <script>
            // 主播魅力top样式
            $(".five-t-topitem").each(function (i) {
                if (i == 0) {
                    $(this).addClass("five-t-topone");
                }
                if (i % 2 == 0) {
                    $(this).addClass("five-t-topodd").removeClass("five-t-topeven");
                } else {
                    $(this).addClass("five-t-topeven").removeClass("five-t-topodd");
                }
            });

            // 主播魅力top滚屏
            topscroll("five-t-toplist", "#five-t-toplist", "#five-t-topul", 1, 50);
            function topscroll (idEve, outerlayer, inlayer, speed, intervaltime) {
                // top魅力值模块滚动
                var luckMain = document.getElementById(idEve);
                var luckSpeed = speed;
                var luckScroll = setInterval(function (){
                    if (luckMain.scrollTop + $(outerlayer).height() >= $(inlayer).height()) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            // 滚动到底部时重新滚动
                            luckMain.scrollTop = 0;
                            topscroll("five-t-toplist", "#five-t-toplist", "#five-t-topul", 1, 50);
                        }, 1500)
                    } else if(luckMain.scrollTop + $(outerlayer).height() < $(inlayer).height() && luckMain.scrollTop == 0) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            topscroll("five-t-toplist", "#five-t-toplist", "#five-t-topul", 1, 50);
                        }, 1500)
                    } else {
                        luckMain.scrollTop += luckSpeed;
                    }
                }, intervaltime);
            }

            // 获奖公告滚屏
            messscroll("five-t-messlist", "#five-t-messlist", "#five-t-messul", 1, 50);
            function messscroll (idEve, outerlayer, inlayer, speed, intervaltime) {
                // top魅力值模块滚动
                var luckMain = document.getElementById(idEve);
                var luckSpeed = speed;
                var luckScroll = setInterval(function (){
                    if (luckMain.scrollTop + $(outerlayer).height() >= $(inlayer).height() -1) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            // 滚动到底部时重新滚动
                            luckMain.scrollTop = 0;
                            messscroll("five-t-messlist", "#five-t-messlist", "#five-t-messul", 1, 50);
                        }, 1500)
                    } else if(luckMain.scrollTop + $(outerlayer).height() < $(inlayer).height() && luckMain.scrollTop == 0) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            messscroll("five-t-messlist", "#five-t-messlist", "#five-t-messul", 1, 50);
                        }, 1500)
                    } else {
                        luckMain.scrollTop += luckSpeed;
                    }
                }, intervaltime);
            }

            // 点击发送
            // 点击发表祝福语的发送按钮
            var wordRule = /^[\S\s]{1,40}$/;
            var wordempty = /^[\s]*$/;
            $(".five-t-messsend").click(function() {
                // 这里先向服务端请求一次
                
                $(".five-t-messtop input").blur();
                $(".five-t-messword input").blur();
                var userId = $(".five-t-messtop input").val(),
                    sendWord = $(".five-t-messword input").val();
                $(".five-t-fadealert").removeClass("none");

                // 获取用户发表内容
                if(wordRule.test(sendWord) && !wordempty.test(sendWord)) {
                    // 获取用户ID
                    if(!wordempty.test(userId)) {
                        // 这里提交数据
                        console.log(userId, sendWord);
                        $(".five-t-fadealert").html("已提交工作人员审核！");
                        $(".spring-a-wordinput").val("");
                        alertPrompt();
                    } else {
                        $(".five-t-fadealert").html("用户ID不能为");
                            alertPrompt();
                    }
                } else {
                    if (wordempty.test(sendWord)) {
                        $(".five-t-fadealert").html("内容不能为空！");
                        alertPrompt();
                    } else {
                        $(".five-t-fadealert").html("字数不能超过40个字！");
                        alertPrompt();
                    }
                }
            });
            function alertPrompt () {
                $(".five-t-fadealert").fadeIn(300, function () {
                    // 弹窗提示淡出
                    $(this).fadeOut(2800);
                })
            }

            // 点赞爱心图标变化判断
            $(".five-t-zan").click(function (e) {
                if ($(this).hasClass("five-t-nolove")) {
                    $(this).removeClass("five-t-nolove").addClass("five-t-love");
                } else {
                    $(this).removeClass("five-t-love").addClass("five-t-nolove");
                }
            });
        </script>
    </body>
</html>