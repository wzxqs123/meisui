<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>获奖记录</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta name="format-detection" content="telephone=no">
        <link rel="stylesheet" type="text/css" href="css/activitys.css">
        <style type="text/css">
            html, body {
                background: #d90015;
            }
        </style>
    </head>
    <body>
        <div class="newyear-r-wrap position-rel">
            <a href="" class="newyear-r-return position-abs"></a>
            <div class="newyear-r-total new-y-red">
                <div class="newyear-r-totalnav clearfix">
                    <div class="newyear-r-totalid left clearfix">
                        <span class="weight-bold twenty-four left">ID</span>
                        <em class="left">（本人ID）</em>
                    </div>
                    <div class="newyear-r-prize left clearfix">
                        <span class="weight-bold twenty-four left">获得奖品</span>
                    </div>
                </div>
                <div id="newyear-r-totalcon" class="newyear-r-totalcon bg-white">
                    <ul id="newyear-r-totalul" class="newyear-r-totalul thirty">
                        <li class="bg-white clearfix">
                            <span class="left">1456667</span>
                            <span class="left">Ipad mine 4</span>
                        </li>
                        <li class="bg-white clearfix">
                            <span class="left">2456667</span>
                            <span class="left">Ipad mine 4</span>
                        </li>
                        <li class="bg-white clearfix">
                            <span class="left">3456667</span>
                            <span class="left">Ipad mine 4</span>
                        </li>
                        <li class="bg-white clearfix">
                            <span class="left">4456667</span>
                            <span class="left">Ipad mine 4</span>
                        </li>
                        <li class="bg-white clearfix">
                            <span class="left">5456667</span>
                            <span class="left">Ipad mine 4</span>
                        </li>
                    </ul>
                </div>
            </div>
            <form class="newyear-r-section" action="">
                <div class="newyear-r-address new-y-red clearfix">
                    <span class="weight-bold twenty-four left">填写收货地址</span>
                    <em class="left">（获得实物奖品情况下填写）</em>
                </div>
                <ul class="newyear-r-lists bg-white thirty new-y-red">
                    <li class="clearfix">
                        <label class="left position-rel" for=""><i class="text-center position-abs">*</i>天香ID：</label>
                        <input class="newyear-r-txid left" type="number" placeholder="请输入天香ID（必填）" />
                    </li>
                    <li class="new-y-pinkbg clearfix">
                        <label class="left position-rel" for=""><i class="text-center position-abs">*</i>地址：</label>
                        <input class="newyear-r-sxaddress new-y-pinkbg left" type="text" placeholder="请输入收货地址（必填）" />
                    </li>
                    <li class="clearfix">
                        <label class="left position-rel" for=""><i class="text-center position-abs">*</i>联系人：</label>
                        <input class="newyear-r-people left" type="text" placeholder="请输入收件人姓名（必填）" />
                    </li>
                    <li class="new-y-pinkbg clearfix">
                        <label class="left position-rel" for=""><i class="text-center position-abs">*</i>电话：</label>
                        <input class="newyear-r-iphone new-y-pinkbg left" type="number" placeholder="请输入手机号（必填）" />
                    </li>
                    <li class="clearfix">
                        <label class="left" for="">微信：</label>
                        <input class="left" type="text" />
                    </li>
                    <li class="new-y-pinkbg clearfix">
                        <label class="left" for="">QQ：</label>
                        <input class="new-y-pinkbg left" type="number" />
                    </li>
                    <li class="clearfix">
                        <label class="left" for="">备注：</label>
                        <input class="left" type="text" />
                    </li>
                </ul>
            </form>
            <div class="newyear-r-but new-y-red thirty-two weight-bold text-center clearfix">
                <span class="newyear-r-cancelbut left">取消</span>
                <span class="newyear-r-submitbut left">提交</span>
            </div>
            <!-- 信息确认弹窗 -->
            <div class="newyear-r-confirmbg position-fix none">
                <div class="newyear-r-confirm new-y-red position-abs">
                    <div class="newyear-r-info bg-white thirty">
                        <h2 class="text-center weight-bold">收货信息确认</h2>
                        <div>
                            <em>天香ID：</em>
                            <span>13453312</span>
                        </div>
                        <div>
                            <em>地址：</em>
                            <span>福建省厦门市集美区离公安利路823号2楼201</span>
                        </div>
                        <div>
                            <em>联系人：</em>
                            <span>斯巴达</span>
                        </div>
                        <div>
                            <em>电话：</em>
                            <span>13746826846</span>
                        </div>
                        <div>
                            <em>微信：</em>
                            <span>斯巴达我坚强</span>
                        </div>
                        <div>
                            <em>QQ：</em>
                            <span>123423322</span>
                        </div>
                        <div>
                            <em>备注：</em>
                            <span></span>
                        </div>
                    </div>
                    <button class="newyear-r-infotrue weight-bold new-y-red block thirty-two text-center" type="button">确认</button>
                    <div class="newyear-r-close position-abs"></div>
                </div>
            </div>
            <!-- 错误提 -->
            <div class="newyear-r-error white thirty text-center position-fix none">请完善资料后提交</div>
        </div>
        <script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
        <script src="js/index.js" type="text/javascript"></script>
        <script>
            // 获奖公告滚屏
            noticescroll("newyear-r-totalcon", "#newyear-r-totalcon", "#newyear-r-totalul", 1, 50);
            function noticescroll (idEve, outerlayer, inlayer, speed, intervaltime) {
                // top魅力值模块滚动
                var luckMain = document.getElementById(idEve);
                var luckSpeed = speed;
                var luckScroll = setInterval(function (){
                    if (luckMain.scrollTop + $(outerlayer).height() >= $(inlayer).height() -1) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            // 滚动到底部时重新滚动
                            luckMain.scrollTop = 0;
                            noticescroll("newyear-r-totalcon", "#newyear-r-totalcon", "#newyear-r-totalul", 1, 50);
                        }, 1500)
                    } else if(luckMain.scrollTop + $(outerlayer).height() < $(inlayer).height() && luckMain.scrollTop == 0) {
                        clearInterval(luckScroll);
                        setTimeout(function () {
                            luckMain.scrollTop += luckSpeed;
                            noticescroll("newyear-r-totalcon", "#newyear-r-totalcon", "#newyear-r-totalul", 1, 50);
                        }, 1500)
                    } else {
                        luckMain.scrollTop += luckSpeed;
                    }
                }, intervaltime);
            }

            // 点击关闭按钮
            $(".newyear-r-close").click(function (e) {
                relievescroll();
                $(".newyear-r-confirmbg").addClass("none");
            });
            // 点击取消清楚表单所有内容
            $(".newyear-r-cancelbut").click(function (e) {
                $(".newyear-r-lists li input").blur().val("");
            });

            var formFocus = [0, 0, 0, 0];
            // 至少输入一个数字正则
            var txidJudge = /^[\d]+$/;
            $(".newyear-r-txid").blur(function() {
                var txId = $(this).val();
                if (txidJudge.test(txId)) {
                    $(this).attr({
                        "placeholder" : "请输入天香ID（必填）"
                    });
                    $(this).removeClass("newyear-r-empty");
                    formFocus[0] = 1;
                } else {
                    $(this).val("");
                    $(this).addClass("newyear-r-empty");
                    $(this).attr({
                        "placeholder" : "ID不能为空"
                    });
                    formFocus[0] = 0;
                }
            });
            var sxaAir = /^[\s]*$/;
            $(".newyear-r-sxaddress").blur(function (e) {
                var sxAddress = $(this).val();
                if (sxaAir.test(sxAddress)) {
                    $(this).val("");
                    $(this).addClass("newyear-r-empty");
                    $(this).attr({
                        "placeholder" : "收货地址不能为空"
                    });
                    formFocus[1] = 0;
                } else {
                    $(this).attr({
                        "placeholder" : "请输入收货地址（必填）"
                    });
                    $(this).removeClass("newyear-r-empty");
                    formFocus[1] = 1;
                }
            });
            $(".newyear-r-people").blur(function (e) {
                var shPeople = $(this).val();
                if (sxaAir.test(shPeople)) {
                    $(this).val("");
                    $(this).addClass("newyear-r-empty");
                    $(this).attr({
                        "placeholder" : "联系人不能为空"
                    });
                    formFocus[2] = 0;
                } else {
                    $(this).attr({
                        "placeholder" : "请输入收件人姓名（必填）"
                    });
                    $(this).removeClass("newyear-r-empty");
                    formFocus[2] = 1;
                }
            });
            $(".newyear-r-iphone").blur(function (e) {
                var shIphone = $(this).val();
                if (phoneReg.test(shIphone)) {
                    $(this).attr({
                        "placeholder" : "请输入手机号（必填）"
                    });
                    $(this).removeClass("newyear-r-empty");
                    formFocus[3] = 1;
                } else {
                    $(this).val("");
                    $(this).addClass("newyear-r-empty");
                    $(this).attr({
                        "placeholder" : "请输入正确的手机号"
                    });
                    formFocus[3] = 0;
                }
            });
            // 点击提交
            $(".newyear-r-submitbut").click(function (e) {
                $(".newyear-r-txid").blur();
                $(".newyear-r-sxaddress").blur();
                $(".newyear-r-people").blur();
                $(".newyear-r-iphone").blur();
                // 阻止表单提交的默认事件
                e.preventDefault();
                var formSum = 0;
                for (var i = 0; i < formFocus.length; i++) {
                    formSum += formFocus[i];
                };
                if (formSum == formFocus.length) {
                    $(".newyear-r-confirmbg").removeClass("none");
                    lockscroll(); // 锁定滚动条
                } else {
                    // 错误提示
                    $(".newyear-r-error").fadeIn(500, function() {
                        $(this).fadeOut(3000);
                    });
                }
            });
            // 点击确认
            $(".newyear-r-infotrue").click(function (e) {
                // 这里传数据
                
                relievescroll(); //解除锁定的滚动条
                $(".newyear-r-confirmbg").addClass("none");
            });
        </script>
    </body>
</html>